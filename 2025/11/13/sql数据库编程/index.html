<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        
            SQL Server æ•°æ®åº“ç¼–ç¨‹ | AIR-v2
        
    </title>
    
    
        <link rel="icon" href="/images/favicon.png">
    
    
    
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/lib/highlight/styles/atom-one-dark.css">

    
<link rel="stylesheet" href="/css/AIR-v2.css">

    
<link rel="stylesheet" href="/css/mobile.css">

    
    <style>
    .home-layout #main { display: block !important; }
    .home-layout .main-content { max-width: 100% !important; width: 100% !important; }
    </style>
<meta name="generator" content="Hexo 8.0.0"></head>

<body class="post-body ">

    <div id="mobile-overlay"></div>
    
    

<nav class="main-nav">
    <div class="nav-content">
        <!-- ç½‘ç«™å“ç‰Œ -->
        <div class="site-brand">
            <a href="/" class="site-title">
                AIR-v2
            </a>
            
        </div>

        <!-- å¯¼èˆªèœå• -->
        <div class="nav-menu">
            <!-- ä¸»å¯¼èˆªé¡¹ -->
            
                <a href="/" class="nav-link">
                    ä¸»é¡µ
                </a>
            
                <a href="/about" class="nav-link">
                    å…³äº
                </a>
            
                <a href="/updatelog" class="nav-link">
                    æ›´æ–°æ—¥å¿—
                </a>
            
            
            <!-- å¤–éƒ¨é“¾æ¥ -->
            
        </div>
    </div>
</nav>
    
    <div id="pjax-container">
        
        <div id="main">
            <!-- å·¦ä¾§è¾¹æ  (éé¦–é¡µæ˜¾ç¤º) -->
            
                <aside id="aside">
                    <div class="sidebar">
    <div class="sidebar-header">
        <div class="sidebar-tabs">
            <button class="tab-btn active" data-tab="files">æ–‡ä»¶</button>
            <button class="tab-btn" data-tab="outline">å¤§çº²</button>
        </div>
    </div>
    
    <nav class="sidebar-nav">
        <!-- æ–‡ä»¶åˆ—è¡¨ -->
        <div class="tab-content active" id="files-tab">
            
            
            <ul class="tree-root">
                <li class="category-group" style="padding-left: 0px"><div class="category-title"><i class="fa fa-folder-open"></i>è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹</div><ul class="post-list"><li class="post-item file"><a href="/2025/10/14/%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" class="post-link" style="padding-left: 36px"><span class="post-icon"><i class="fa fa-file-text-o"></i></span><span class="post-title">ç¬¬ä¸€ç¯‡åšå®¢</span></a></li></ul></li><li class="post-item file"><a href="/2025/10/28/%F0%9F%91%81%EF%B8%8F/" class="post-link" style="padding-left: 20px"><span class="post-icon"><i class="fa fa-file-text-o"></i></span><span class="post-title">ğŸ‘ï¸</span></a></li><li class="post-item file"><a href="/2025/11/02/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%93%E4%B8%80%E4%B8%AAhexo%E4%B8%BB%E9%A2%98/" class="post-link" style="padding-left: 20px"><span class="post-icon"><i class="fa fa-file-text-o"></i></span><span class="post-title">ä»é›¶å¼€å§‹æ“ä¸€ä¸ªhexoä¸»é¢˜</span></a></li><li class="post-item file"><a href="/2025/11/23/%E6%98%9F%E9%9C%B2%E8%B0%B7sve%E7%BB%93%E8%AF%AD/" class="post-link" style="padding-left: 20px"><span class="post-icon"><i class="fa fa-file-text-o"></i></span><span class="post-title">æ˜Ÿéœ²è°·sveç»“è¯­</span></a></li><li class="post-item file"><a href="/2025/10/12/hello-world/" class="post-link" style="padding-left: 20px"><span class="post-icon"><i class="fa fa-file-text-o"></i></span><span class="post-title">hello-world</span></a></li><li class="post-item file active"><a href="/2025/11/13/sql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B/" class="post-link" style="padding-left: 20px"><span class="post-icon"><i class="fa fa-file-text-o"></i></span><span class="post-title">sqlæ•°æ®åº“ç¼–ç¨‹</span></a></li>
            </ul>
        </div>
        
        <!-- å¤§çº² -->
        <div class="tab-content" id="outline-tab">
            <div class="outline-container">
                
                    <div id="article-outline"></div>
                
            </div>
        </div>
    </nav>
</div>
                </aside>
            

            <!-- ä¸»å†…å®¹åŒº -->
            <main class="main-content ">
                <div id="content">
                    <article class="post-body markdown-body">
    <header class="post-header">
        <h1 class="post-title">SQL Server æ•°æ®åº“ç¼–ç¨‹</h1>
        
        
        <div class="post-meta">
            <time class="post-date" datetime="2025-11-13T03:41:35.123Z">
                <i class="fa fa-calendar"></i> 2025-11-13
            </time>
            
            
            
            
        </div>
        
    </header>
    
    <div class="post-content">
        <h1 id="ä¸‰ã€å»ºç«‹æ•°æ®è¡¨"><a href="#ä¸‰ã€å»ºç«‹æ•°æ®è¡¨" class="headerlink" title="ä¸‰ã€å»ºç«‹æ•°æ®è¡¨"></a>ä¸‰ã€å»ºç«‹æ•°æ®è¡¨</h1><h2 id="1-åˆ›å»ºåšå®¢ç³»ç»Ÿæ•°æ®è¡¨"><a href="#1-åˆ›å»ºåšå®¢ç³»ç»Ÿæ•°æ®è¡¨" class="headerlink" title="1.åˆ›å»ºåšå®¢ç³»ç»Ÿæ•°æ®è¡¨"></a>1.åˆ›å»ºåšå®¢ç³»ç»Ÿæ•°æ®è¡¨</h2><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">use filename
GO

create table list_name
(
    column_name datatype null/not null
	userID char(6) NOT NULL
)
GO
</code></pre>
<h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p><code>varchar</code>å¯å˜é•¿åº¦å­—ç¬¦ä¸²<br><code>numeric</code>ç²¾ç¡®æ•°å­—æ•°æ®ç±»å‹<br><code>nvarchar</code>ç±»varcharï¼Œå­˜å‚¨éUnicodeå­—ç¬¦<br><code>nchar</code>å›ºå®šé•¿åº¦Unicodeå­—ç¬¦ä¸²</p>
<h2 id="2-è®¾ç½®ä¸»é”®"><a href="#2-è®¾ç½®ä¸»é”®" class="headerlink" title="2.è®¾ç½®ä¸»é”®"></a>2.è®¾ç½®ä¸»é”®</h2><h3 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h3><pre><code class="language-sql">alter table list_name
add /*[constraint pk_name]*/ primary key(column_name)
</code></pre>
<h2 id="3-åšå®¢ç”¨æˆ·è¡¨æ·»åŠ æ ‡è¯†åˆ—"><a href="#3-åšå®¢ç”¨æˆ·è¡¨æ·»åŠ æ ‡è¯†åˆ—" class="headerlink" title="3. åšå®¢ç”¨æˆ·è¡¨æ·»åŠ æ ‡è¯†åˆ—"></a>3. åšå®¢ç”¨æˆ·è¡¨æ·»åŠ æ ‡è¯†åˆ—</h2><h3 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">alter table list_name add column_name datatype identity(1,1) 

#ä¿®æ”¹éœ€è¦é‡æ–°åˆ›å»ºè¡¨
create table list_name(
column_name datatype identity(1,1) null/not null)
GO
</code></pre>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>GUIä¸­                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      è¡¨è®¾è®¡å™¨åœ¨ä¿®æ”¹æ ‡è¯†åˆ—å±æ€§æ—¶ä¸å…è®¸ç›´æ¥æ›´æ”¹</p>
<blockquote>
<ul>
<li>è§£å†³æ–¹æ³•ï¼šå·¥å…·-&gt;é€‰é¡¹-&gt;è®¾è®¡å™¨-&gt;è¡¨è®¾è®¡å™¨å’Œæ•°æ®åº“è®¾è®¡å™¨</li>
<li>å–æ¶ˆé€‰ä¸­â€œé˜»æ­¢ä¿å­˜è¦æ±‚é‡æ–°åˆ›å»ºè¡¨çš„ä¿®æ”¹â€</li>
</ul>
</blockquote>
<h2 id="4-åˆ›å»ºä¸»å¤–é”®å…³ç³»"><a href="#4-åˆ›å»ºä¸»å¤–é”®å…³ç³»" class="headerlink" title="4.åˆ›å»ºä¸»å¤–é”®å…³ç³»"></a>4.åˆ›å»ºä¸»å¤–é”®å…³ç³»</h2><h3 id="è¯­æ³•-2"><a href="#è¯­æ³•-2" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">create xxx(
column_name datatype foreign key reference list_name(column_name2))
GO

#è¿½åŠ ä¿®æ”¹
alter table list_name add constraint fk_file_list foreign key(column_name) references file_name (column_name)
</code></pre>
<h2 id="5-åšå®¢ç”¨æˆ·é‚®ç®±æ·»åŠ æ£€æŸ¥çº¦æŸ"><a href="#5-åšå®¢ç”¨æˆ·é‚®ç®±æ·»åŠ æ£€æŸ¥çº¦æŸ" class="headerlink" title="5.åšå®¢ç”¨æˆ·é‚®ç®±æ·»åŠ æ£€æŸ¥çº¦æŸ"></a>5.åšå®¢ç”¨æˆ·é‚®ç®±æ·»åŠ æ£€æŸ¥çº¦æŸ</h2><h3 id="è¯­æ³•-3"><a href="#è¯­æ³•-3" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">#åˆ›å»º
column_name datatype null/not null check(column_name like &#39;keyname&#39;)

#ä¿®æ”¹
alter table list_name add constraint CK_column check(column_name like &#39;keyname&#39;)
</code></pre>
<blockquote>
<p>æ•°æ®åº“-&gt;è¡¨-&gt;çº¦æŸ</p>
</blockquote>
<h1 id="å››ã€æ•°æ®ç®¡ç†"><a href="#å››ã€æ•°æ®ç®¡ç†" class="headerlink" title="å››ã€æ•°æ®ç®¡ç†"></a>å››ã€æ•°æ®ç®¡ç†</h1><table>
<thead>
<tr>
<th align="center">é€šé…ç¬¦</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">%</td>
<td align="center">æ›¿ä»£ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="center">_</td>
<td align="center">ä»…æ›¿ä»£ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="center">[charlist]</td>
<td align="center">å­—ç¬¦åˆ—ä¸­çš„ä»»ä½•å•ä¸€å­—ç¬¦</td>
</tr>
<tr>
<td align="center">[^charlist]&#x2F;[!charlist]</td>
<td align="center">ä¸åœ¨å­—ç¬¦åˆ—ä¸­çš„ä»»ä½•å•ä¸€å­—ç¬¦</td>
</tr>
</tbody></table>
<h2 id="1-æ’å…¥åšå®¢ç®¡ç†æ•°æ®"><a href="#1-æ’å…¥åšå®¢ç®¡ç†æ•°æ®" class="headerlink" title="1.æ’å…¥åšå®¢ç®¡ç†æ•°æ®"></a>1.æ’å…¥åšå®¢ç®¡ç†æ•°æ®</h2><h3 id="è¯­æ³•-4"><a href="#è¯­æ³•-4" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">insert [into] tbl_name [(column_name,...)]{values | value} ({expr |default},...)(...))
</code></pre>
<blockquote>
<p>table_nameï¼šè¡¨å<br>column_nameï¼šåˆ—å</p>
</blockquote>
<p>å³é”® <code>è¡¨</code> -&gt; <code>ç¼–è¾‘å‰ä¸¤ç™¾è¡Œ</code></p>
<h2 id="2-æ›´æ–°åšå®¢ç³»ç»Ÿæ•°æ®"><a href="#2-æ›´æ–°åšå®¢ç³»ç»Ÿæ•°æ®" class="headerlink" title="2.æ›´æ–°åšå®¢ç³»ç»Ÿæ•°æ®"></a>2.æ›´æ–°åšå®¢ç³»ç»Ÿæ•°æ®</h2><h3 id="è¯­æ³•-5"><a href="#è¯­æ³•-5" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p><a target="_blank" rel="noopener" href="https://www.runoob.com/sql/sql-update.html">SQL UPDATE è¯­å¥ | èœé¸Ÿæ•™ç¨‹</a></p>
<pre><code class="language-sql">UPDATE table_name
SET column1 = value1, column2 = value2, ...
WHERE condition;

#å…¨å±€è®¾ç½®
update list_name set col_name = &#39;xxx&#39;
</code></pre>
<h2 id="3-åˆ é™¤éƒ¨åˆ†æ•°æ®"><a href="#3-åˆ é™¤éƒ¨åˆ†æ•°æ®" class="headerlink" title="3.åˆ é™¤éƒ¨åˆ†æ•°æ®"></a>3.åˆ é™¤éƒ¨åˆ†æ•°æ®</h2><h3 id="è¯­æ³•-6"><a href="#è¯­æ³•-6" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">DELETE FROM table_name
WHERE condition;

TRUNCATE TABLE TABLE_NAME;
</code></pre>
<p> ç¤ºä¾‹ï¼š<code>delete from bloguser Where userName = &#39;xxx&#39;</code></p>
<h1 id="äº”ã€æ•°æ®æŸ¥è¯¢"><a href="#äº”ã€æ•°æ®æŸ¥è¯¢" class="headerlink" title="äº”ã€æ•°æ®æŸ¥è¯¢"></a>äº”ã€æ•°æ®æŸ¥è¯¢</h1><h2 id="1-åšå®¢ç³»ç»ŸåŸºç¡€æŸ¥è¯¢"><a href="#1-åšå®¢ç³»ç»ŸåŸºç¡€æŸ¥è¯¢" class="headerlink" title="1.åšå®¢ç³»ç»ŸåŸºç¡€æŸ¥è¯¢"></a>1.åšå®¢ç³»ç»ŸåŸºç¡€æŸ¥è¯¢</h2><h3 id="è¯­æ³•-7"><a href="#è¯­æ³•-7" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">select [all|distinct]å­—æ®µåˆ—è¡¨
[into]æ–°è¡¨ fromæ•°æ®æº [where]æ¡ä»¶è¡¨è¾¾å¼ 
[group by]åˆ†ç»„è¡¨è¾¾å¼ [having]æœç´¢è¡¨è¾¾å¼ 
[order by]æ’åºè¡¨è¾¾å¼ [asc|desc]
`select * from list_name`æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰ä¿¡æ¯
`select column1,column2 from list_name`æŸ¥è¯¢æŒ‡å®šä¿¡æ¯
`select column1 as Name1,column2 as Name2 from list_name`æŸ¥è¯¢æŒ‡å®šä¿¡æ¯å¹¶æŒ‰å„åˆ—å–åˆ—å
`select xxx(åŒä¸Š) where column = &#39;name&#39;`æŸ¥è¯¢å¯¹åº”å…ƒç´ çš„ä¿¡æ¯
`select * from list_name where column is null`æŸ¥è¯¢å¯¹åº”å…ƒç´ ä¸ºç©ºçš„ä¿¡æ¯
`select top 3 * from list_name`æŸ¥è¯¢å‰ä¸‰ä½
</code></pre>
<blockquote>
<p>Name1æ— éœ€æ·»åŠ â€œâ€ <code>å¯ä»¥åŠ ï¼Œå¯è¯»æ€§è¿™ä¸€å—</code><br>nullæŸ¥æ‰¾ä¸èƒ½â€œ&#x3D;â€,ä½¿ç”¨â€œis nullâ€æˆ–â€œis not nullâ€</p>
</blockquote>
<h2 id="2-æŒ‰å‘è¡¨æ—¥æœŸæ’åºåšå®¢"><a href="#2-æŒ‰å‘è¡¨æ—¥æœŸæ’åºåšå®¢" class="headerlink" title="2.æŒ‰å‘è¡¨æ—¥æœŸæ’åºåšå®¢"></a>2.æŒ‰å‘è¡¨æ—¥æœŸæ’åºåšå®¢</h2><h3 id="è¯­æ³•-8"><a href="#è¯­æ³•-8" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p>åŸºäº<a href="##1.%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2">åšå®¢ç³»ç»ŸåŸºç¡€æŸ¥è¯¢</a>ä¸Šæ·»åŠ <code>order by {åˆ—å[ASC|DESC] [,...n]}</code></p>
<pre><code class="language-sql">select *  from list_name order by column_name
ascå‡åº|descé™åº

select *  from list_name order by column1
asc, column2 desc
#æŒ‰column1å‡åºæ’åˆ—ï¼Œç›¸åŒcloumn1æŒ‰cloumn2é™åºæ’åˆ—
</code></pre>
<h2 id="3-å‡½æ•°"><a href="#3-å‡½æ•°" class="headerlink" title="3.å‡½æ•°"></a>3.å‡½æ•°</h2><p><a target="_blank" rel="noopener" href="https://www.runoob.com/sql/sql-function.html">SQL å‡½æ•° | èœé¸Ÿæ•™ç¨‹</a></p>
<h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">#ä¹¦p102è¯¦è§£
select ç¼–å·=blogNO, æ ‡é¢˜=upper(blogTitle),å†…å®¹=blogcontent,
å‘è¡¨æ—¶é—´=ltrim(str(year(pubTime))) + &#39;-&#39; + 
ltrim(str(month(pubTime))) + &#39;-&#39; + ltrim(str(day(pubTime)))
from blog
</code></pre>
<h2 id="4-åšå®¢æ¨¡ç³ŠæŸ¥è¯¢"><a href="#4-åšå®¢æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="4.åšå®¢æ¨¡ç³ŠæŸ¥è¯¢"></a>4.åšå®¢æ¨¡ç³ŠæŸ¥è¯¢</h2><h3 id="è¯­æ³•-9"><a href="#è¯­æ³•-9" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">select xxx from list_name where cloumn like
&#39;%key_name%&#39;

select xxx from list_name where cloumn1 like
&#39;%key1%&#39; or cloumn2 like &#39;%key2%&#39;

select xxx from list_name where cloumn between &#39;xxx&#39; and &#39;xxx&#39;

select xxx from list_name where cloumn in 
(&#39;xxx&#39;,&#39;xxx&#39;,&#39;xxx&#39;)
</code></pre>
<table>
<thead>
<tr>
<th align="center"><em>æœç´¢æ¡ä»¶</em></th>
<th align="center"><em>æ¡ä»¶è¿ç®—ç¬¦</em></th>
</tr>
</thead>
<tbody><tr>
<td align="center">ç¡®å®šèŒƒå›´</td>
<td align="center">between and, not between and</td>
</tr>
<tr>
<td align="center">æ ¼å¼åŒ¹é…</td>
<td align="center">like, not like</td>
</tr>
<tr>
<td align="center">ç¡®å®šé›†åˆ</td>
<td align="center">in, not in</td>
</tr>
</tbody></table>
<h2 id="5-åšå®¢è¯„è®ºä¸­çš„èšåˆå‡½æ•°"><a href="#5-åšå®¢è¯„è®ºä¸­çš„èšåˆå‡½æ•°" class="headerlink" title="5.åšå®¢è¯„è®ºä¸­çš„èšåˆå‡½æ•°"></a>5.åšå®¢è¯„è®ºä¸­çš„èšåˆå‡½æ•°</h2><h3 id="è¯­æ³•-10"><a href="#è¯­æ³•-10" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">SELECT SUM(column_name) FROM table_name;
#çš†åŒç†
</code></pre>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/sql/sql-function.html">SQL å‡½æ•° | èœé¸Ÿæ•™ç¨‹</a></p>
<table>
<thead>
<tr>
<th align="center"><em>å‡½æ•°å</em></th>
<th align="center"><em>å‡½æ•°åŠŸèƒ½</em></th>
</tr>
</thead>
<tbody><tr>
<td align="center">sum()</td>
<td align="center">è®¡ç®—æŸä¸€åˆ—æ•°å€¼åˆ—çš„å’Œ</td>
</tr>
<tr>
<td align="center">avg()</td>
<td align="center">è®¡ç®—æŸä¸€æ•°å€¼åˆ—çš„å¹³å‡å€¼</td>
</tr>
<tr>
<td align="center">min()</td>
<td align="center">æ±‚æŸä¸€æ•°å€¼åˆ—çš„æœ€å°å€¼</td>
</tr>
<tr>
<td align="center">max()</td>
<td align="center">æ±‚æŸä¸€æ•°å€¼åˆ—çš„æœ€å¤§å€¼</td>
</tr>
<tr>
<td align="center">count()</td>
<td align="center">ç»Ÿè®¡æ»¡è¶³selectè¯­å¥ä¸­æŒ‡å®šæ¡ä»¶çš„è®°å½•æ•°</td>
</tr>
</tbody></table>
<h2 id="6-æŒ‰åšå®¢åˆ†ç»„ç»Ÿè®¡è¯„è®ºæ•°"><a href="#6-æŒ‰åšå®¢åˆ†ç»„ç»Ÿè®¡è¯„è®ºæ•°" class="headerlink" title="6.æŒ‰åšå®¢åˆ†ç»„ç»Ÿè®¡è¯„è®ºæ•°"></a>6.æŒ‰åšå®¢åˆ†ç»„ç»Ÿè®¡è¯„è®ºæ•°</h2><h3 id="è¯­æ³•-11"><a href="#è¯­æ³•-11" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p><a target="_blank" rel="noopener" href="https://www.runoob.com/sql/sql-groupby.html">SQL GROUP BY è¯­å¥ | èœé¸Ÿæ•™ç¨‹</a></p>
<pre><code class="language-sql">#æŸ¥è¯¢listä¸­çš„column1å’Œcountçš„æ¬¡æ•°
select column1 as name1, count(*) as name2 from list_name
#æŒ‰column1åˆ†ç»„
group by column1
#æŒ‘é€‰å‡ºname2å¤§äº3çš„cloumn
havinng count(*) &gt;= 3
</code></pre>
<blockquote>
<p>havingå­å¥å¿…é¡»å’Œgroup byå­å¥è¿ç”¨</p>
</blockquote>
<h1 id="å…­ã€é«˜çº§æŸ¥è¯¢çš„åº”ç”¨"><a href="#å…­ã€é«˜çº§æŸ¥è¯¢çš„åº”ç”¨" class="headerlink" title="å…­ã€é«˜çº§æŸ¥è¯¢çš„åº”ç”¨"></a>å…­ã€é«˜çº§æŸ¥è¯¢çš„åº”ç”¨</h1><ul>
<li><input disabled="" type="checkbox"> ç¬›å¡å°”ç§¯</li>
<li><input disabled="" type="checkbox"> sqlè¿æ¥æŸ¥è¯¢</li>
</ul>
<pre><code class="language-sql">from join_table join_type join_table
[on (join_condition)]
</code></pre>
<p><code>join_table</code>è¿›è¡Œè¿æ¥æ“ä½œçš„è¡¨å<br><code>join_type</code>è¿æ¥ç±»å‹<br><code>on(join_condition)</code>è¿æ¥æ¡ä»¶</p>
<ul>
<li><input disabled="" type="checkbox"> å­æŸ¥è¯¢</li>
</ul>
<h2 id="1-æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯"><a href="#1-æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯" class="headerlink" title="1.æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯"></a>1.æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯</h2><h3 id="å®ä¾‹-1"><a href="#å®ä¾‹-1" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">select B.blogNO as ç¼–å·, B.blogTitle as æ ‡é¢˜ 
from blogUser as U inner join blog as B 
on U.UserNo = B.uerNO
</code></pre>
<h2 id="2-æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯å¹¶æŠŠæœªå‘è¡¨åšå®¢çš„ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥"><a href="#2-æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯å¹¶æŠŠæœªå‘è¡¨åšå®¢çš„ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥" class="headerlink" title="2.æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯å¹¶æŠŠæœªå‘è¡¨åšå®¢çš„ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥"></a>2.æŸ¥è¯¢åšå®¢çš„å®Œæ•´ä¿¡æ¯å¹¶æŠŠæœªå‘è¡¨åšå®¢çš„ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥</h2><blockquote>
<p>å³ä½¿ç”¨å¤–è¿æ¥ï¼Œleft joinå·¦å¤–è¿æ¥ï¼Œright joinå³å¤–è¿æ¥ï¼Œfull joinå…¨å¤–è¿æ¥</p>
</blockquote>
<h3 id="å®ä¾‹-2"><a href="#å®ä¾‹-2" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">select B.blogNO as ç¼–å·, B.blogTitle as æ ‡é¢˜ 
from blogUser as U (left/right) join blog as B 
on U.UserNo = B.uerNO
</code></pre>
<h2 id="3-ç®€å•å­æŸ¥è¯¢â€”â€”æŒ‰åšä¸»æŸ¥è¯¢åšå®¢"><a href="#3-ç®€å•å­æŸ¥è¯¢â€”â€”æŒ‰åšä¸»æŸ¥è¯¢åšå®¢" class="headerlink" title="3.ç®€å•å­æŸ¥è¯¢â€”â€”æŒ‰åšä¸»æŸ¥è¯¢åšå®¢"></a>3.ç®€å•å­æŸ¥è¯¢â€”â€”æŒ‰åšä¸»æŸ¥è¯¢åšå®¢</h2><h3 id="å®ä¾‹-3"><a href="#å®ä¾‹-3" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">#æ³•1ï¼šè¿æ¥æŸ¥è¯¢
select B.* from blog as B inner join blogUser as U
on U.UserNo = B.uerNO and U.userName = &#39;å1&#39;

#æ³•2ï¼šå­æŸ¥è¯¢
select * from blog 
where uerNO = (select UserNo from blogUser where userName = &#39;å1&#39;)
</code></pre>
<blockquote>
<p>å­æŸ¥è¯¢é‡Šä¹‰ï¼š<code>where</code>é‡ŒæŸ¥è¯¢bloguserä¸­usernameä¸ºâ€˜å1â€™çš„userNOï¼Œå†æŸ¥è¯¢blogé‡ŒuerNO &#x3D; userNOçš„æ‰€æœ‰æ•°æ®</p>
</blockquote>
<h2 id="4-inå­æŸ¥è¯¢"><a href="#4-inå­æŸ¥è¯¢" class="headerlink" title="4.inå­æŸ¥è¯¢"></a>4.inå­æŸ¥è¯¢</h2><h3 id="å®ä¾‹-4"><a href="#å®ä¾‹-4" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">select userName from blogUser where UserNo 
in (select distinct uerNO from blog)
</code></pre>
<blockquote>
<p>1.åœ¨blogé‡ŒæŸ¥è¯¢äº†userno<br>2.åœ¨bloguseré‡ŒæŸ¥è¯¢userNOç¬¬ä¸€æ­¥å¯¹åº”çš„username</p>
<p><code>disstinct</code>å»æ‰é‡å¤å…ƒç´ <br><code>not in</code>å³â€˜ä¸åœ¨ç¬¬ä¸€æ­¥â€™</p>
</blockquote>
<h2 id="5-existsæŸ¥è¯¢â€”â€”æ ‡è®°å†·é—¨åšå®¢"><a href="#5-existsæŸ¥è¯¢â€”â€”æ ‡è®°å†·é—¨åšå®¢" class="headerlink" title="5.existsæŸ¥è¯¢â€”â€”æ ‡è®°å†·é—¨åšå®¢"></a>5.existsæŸ¥è¯¢â€”â€”æ ‡è®°å†·é—¨åšå®¢</h2><h3 id="å®ä¾‹-5"><a href="#å®ä¾‹-5" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">update blog set blogTitle = &#39;(å†·é—¨åšå®¢)&#39; + blogTitle
where exists (select * from blog where clickNum = 0)
and clickNum &lt; 10
</code></pre>
<blockquote>
<p>é‡Šä¹‰ï¼šexistså¦‚æœå­˜åœ¨clickNum&#x3D;0,åˆ™å°†clickNum&lt;10çš„blogTitleæ”¹å</p>
</blockquote>
<h1 id="ä¸ƒã€T-SQLç¼–ç¨‹"><a href="#ä¸ƒã€T-SQLç¼–ç¨‹" class="headerlink" title="ä¸ƒã€T-SQLç¼–ç¨‹"></a>ä¸ƒã€T-SQLç¼–ç¨‹</h1><pre><code class="language-sql">print &#39;xxxx&#39;
select &#39;xxx&#39; as list_name
</code></pre>
<blockquote>
<p><code>declare</code>ç”¨äºå£°æ˜å±€éƒ¨å˜é‡</p>
<blockquote>
<p>declare @name type<br>å£°æ˜å¤šä¸ªåªéœ€æ·»åŠ é€—å·</p>
</blockquote>
<p>ä½¿ç”¨set(æˆ–select)èµ‹å€¼</p>
<blockquote>
<p>set @name &#x3D; value</p>
</blockquote>
</blockquote>
<table>
<thead>
<tr>
<th>åŒºåˆ«é¡¹</th>
<th>set</th>
<th>select</th>
</tr>
</thead>
<tbody><tr>
<td>åŒæ—¶èµ‹å€¼å¤šä¸ª</td>
<td>å¦</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>è¡¨è¾¾å¼è¿”å›å¤šä¸ªå€¼</td>
<td>å‡ºé”™</td>
<td>æ”¶åˆ°æœ€åä¸€ä¸ªå€¼</td>
</tr>
<tr>
<td>è¡¨è¾¾å¼æœªè¿”å›å€¼</td>
<td>èµ‹å€¼ä¸ºNULL</td>
<td>ä¿æŒåŸå€¼</td>
</tr>
</tbody></table>
<h2 id="1-å˜é‡"><a href="#1-å˜é‡" class="headerlink" title="1.å˜é‡"></a>1.å˜é‡</h2><h3 id="å®ä¾‹-6"><a href="#å®ä¾‹-6" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">declare @username varchar(20)
--å£°æ˜ä¸€ä¸ªå±€éƒ¨å˜é‡
set @username = &#39;å2&#39;
--å°†å˜é‡èµ‹å€¼ä¸º å2
select * from blogUser where userName = @username
--æŸ¥è¯¢ç¬¦åˆblogUseré‡ŒuserNameç¬¦åˆçš„å…¨éƒ¨ä¿¡æ¯
</code></pre>
<h2 id="2-ifæ¡ä»¶"><a href="#2-ifæ¡ä»¶" class="headerlink" title="2.ifæ¡ä»¶"></a>2.ifæ¡ä»¶</h2><h3 id="è¯­æ³•-12"><a href="#è¯­æ³•-12" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">#beginè¯­å¥
begin
	{sql_statement|statement_block}
end

#ifè¯­å¥
if boolean_expression
	{sql_statement1|statement_block1}
else
	{sql_statement2|statement_block2}
</code></pre>
<h3 id="å®ä¾‹-7"><a href="#å®ä¾‹-7" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">declare @number int
set @number = 50
if @number &gt; 100
	print &#39;xxxxx&gt;100&#39;
else
	begin
		if @number &lt; 10
			print &#39;xxx&lt;10&#39;
		else
			print &#39;xxx&gt;10&lt;100&#39;
	end
</code></pre>
<h2 id="3-whileå¾ªç¯"><a href="#3-whileå¾ªç¯" class="headerlink" title="3.whileå¾ªç¯"></a>3.whileå¾ªç¯</h2><h3 id="è¯­æ³•-13"><a href="#è¯­æ³•-13" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">while boolean_expression
	{sql_statement|statement_block|break|continue}
</code></pre>
<h3 id="å®ä¾‹-8"><a href="#å®ä¾‹-8" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">declare @num int = 1
while @num &lt;100
	begin
		print @num*2
		set @num = @num +1
	end
</code></pre>
<h2 id="4-caseå¤šåˆ†æ”¯"><a href="#4-caseå¤šåˆ†æ”¯" class="headerlink" title="4. caseå¤šåˆ†æ”¯"></a>4. caseå¤šåˆ†æ”¯</h2><h3 id="å®ä¾‹-9"><a href="#å®ä¾‹-9" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><pre><code class="language-sql">declare @level char(1)
set @level = &#39;C&#39;

select &#39;æˆç»©&#39; = 
	case @level
		when &#39;A&#39; then &#39;æˆç»©90+&#39;
		when &#39;B&#39; then &#39;æˆç»©80+&#39;
		when &#39;C&#39; then &#39;æˆç»©70+&#39;
		else &#39;NO case&#39;
end
</code></pre>
<h1 id="å…«ã€ç´¢å¼•ä¸è§†å›¾"><a href="#å…«ã€ç´¢å¼•ä¸è§†å›¾" class="headerlink" title="å…«ã€ç´¢å¼•ä¸è§†å›¾"></a>å…«ã€ç´¢å¼•ä¸è§†å›¾</h1><h2 id="1-æŒ‰åšå®¢çš„å‘è¡¨æ—¥æœŸå»ºç«‹ç´¢å¼•"><a href="#1-æŒ‰åšå®¢çš„å‘è¡¨æ—¥æœŸå»ºç«‹ç´¢å¼•" class="headerlink" title="1.æŒ‰åšå®¢çš„å‘è¡¨æ—¥æœŸå»ºç«‹ç´¢å¼•"></a>1.æŒ‰åšå®¢çš„å‘è¡¨æ—¥æœŸå»ºç«‹ç´¢å¼•</h2><h3 id="è¯­æ³•-14"><a href="#è¯­æ³•-14" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">#åˆ›å»ºç´¢å¼•
create index Idx_pubtime on blog(pubtime)

#ä¿®æ”¹ç´¢å¼• è¿™é‡Œæ˜¯é‡å‘½å
exec sp_rename &#39;blog.idx_pubtime&#39;,&#39;ix_pubtime&#39;

#åˆ é™¤ç´¢å¼•
drop index blog.ix_pubtime
</code></pre>
<h2 id="2-æ˜¾ç¤ºç”¨æˆ·å‘è¡¨åšå®¢æƒ…å†µçš„è§†å›¾"><a href="#2-æ˜¾ç¤ºç”¨æˆ·å‘è¡¨åšå®¢æƒ…å†µçš„è§†å›¾" class="headerlink" title="2.æ˜¾ç¤ºç”¨æˆ·å‘è¡¨åšå®¢æƒ…å†µçš„è§†å›¾"></a>2.æ˜¾ç¤ºç”¨æˆ·å‘è¡¨åšå®¢æƒ…å†µçš„è§†å›¾</h2><h3 id="è¯­æ³•-15"><a href="#è¯­æ³•-15" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code class="language-sql">
</code></pre>
<h1 id="ä¹ã€å­˜å‚¨è¿‡ç¨‹"><a href="#ä¹ã€å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="ä¹ã€å­˜å‚¨è¿‡ç¨‹"></a>ä¹ã€å­˜å‚¨è¿‡ç¨‹</h1><h2 id="1-æŸ¥çœ‹å•å‡»ç‡å‡å€¼åŠä½äºå‡å€¼åšå®¢çš„å­˜å‚¨è¿‡ç¨‹"><a href="#1-æŸ¥çœ‹å•å‡»ç‡å‡å€¼åŠä½äºå‡å€¼åšå®¢çš„å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="1.æŸ¥çœ‹å•å‡»ç‡å‡å€¼åŠä½äºå‡å€¼åšå®¢çš„å­˜å‚¨è¿‡ç¨‹"></a>1.æŸ¥çœ‹å•å‡»ç‡å‡å€¼åŠä½äºå‡å€¼åšå®¢çš„å­˜å‚¨è¿‡ç¨‹</h2><h3 id="è¯­æ³•ï¼šç”¨T-SQLåˆ›å»ºå­˜å‚¨è¿‡ç¨‹"><a href="#è¯­æ³•ï¼šç”¨T-SQLåˆ›å»ºå­˜å‚¨è¿‡ç¨‹" class="headerlink" title="è¯­æ³•ï¼šç”¨T-SQLåˆ›å»ºå­˜å‚¨è¿‡ç¨‹"></a>è¯­æ³•ï¼šç”¨T-SQLåˆ›å»ºå­˜å‚¨è¿‡ç¨‹</h3><pre><code class="language-sql">create proc[edure] procedure_name [;number] [ {@parameter} data_type] [varying] [=default] [output] ] [,...n] [with { recompile | encryption | recompile, encryption | exeute_as_clause}] [for replication]
# @å‚æ•°1 æ•°æ®ç±»å‹=é»˜è®¤å€¼ output
as{
	&lt;sql_statement&gt;[;][...n]
	|&lt;method_specifier&gt;}[;]
}
</code></pre>
<h3 id="è¯­æ³•ï¼šè°ƒç”¨å­˜å‚¨è¿‡ç¨‹"><a href="#è¯­æ³•ï¼šè°ƒç”¨å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="è¯­æ³•ï¼šè°ƒç”¨å­˜å‚¨è¿‡ç¨‹"></a>è¯­æ³•ï¼šè°ƒç”¨å­˜å‚¨è¿‡ç¨‹</h3><pre><code class="language-sql">exec procedure_name
use blogDB
exec proc_clickNum
</code></pre>
<h2 id="2-åˆ›å»ºå­˜å‚¨è¿‡ç¨‹å®ç°è¾“å…¥ç”¨æˆ·å§“åæŸ¥çœ‹å…¶åšå®¢è¯¦æƒ…"><a href="#2-åˆ›å»ºå­˜å‚¨è¿‡ç¨‹å®ç°è¾“å…¥ç”¨æˆ·å§“åæŸ¥çœ‹å…¶åšå®¢è¯¦æƒ…" class="headerlink" title="2.åˆ›å»ºå­˜å‚¨è¿‡ç¨‹å®ç°è¾“å…¥ç”¨æˆ·å§“åæŸ¥çœ‹å…¶åšå®¢è¯¦æƒ…"></a>2.åˆ›å»ºå­˜å‚¨è¿‡ç¨‹å®ç°è¾“å…¥ç”¨æˆ·å§“åæŸ¥çœ‹å…¶åšå®¢è¯¦æƒ…</h2>
    </div>
    
    <footer class="post-footer">
        <!-- å¯ä»¥æ·»åŠ ä¸Šä¸€ç¯‡ä¸‹ä¸€ç¯‡å¯¼èˆª -->
        <div class="post-nav">
            
                <a href="/2025/11/23/%E6%98%9F%E9%9C%B2%E8%B0%B7sve%E7%BB%93%E8%AF%AD/" class="post-nav-prev">
                    <i class="fa fa-arrow-left"></i> æ˜Ÿéœ²è°·sveç»“è¯­
                </a>
            
            
            
                <a href="/2025/11/02/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%93%E4%B8%80%E4%B8%AAhexo%E4%B8%BB%E9%A2%98/" class="post-nav-next">
                    hexoä¸»é¢˜å¼€å‘åŠéƒ¨ç½²æ•™ç¨‹ <i class="fa fa-arrow-right"></i>
                </a>
            
        </div>
    </footer>
</article>
                </div>
            </main>
            
            <!-- å³ä¾§è¾¹æ  (éé¦–é¡µæ˜¾ç¤º) -->
            
                <aside id="right-sidebar">
    <div class="sidebar-author">
        <!-- å¤´åƒ -->
        <div class="author-avatar">
            <img src="/images/avatar.jpg" alt="Tenkonataçš„åšå®¢">
        </div>
        
        <!-- ä½œè€…åç§° -->
        <h3 class="author-name">Tenkonataçš„åšå®¢</h3>
        
        <!-- ç­¾å -->
        
        <div class="author-description">
            
                <p>æ„Ÿæ—¶èŠ±æº…æ³ª</p>
            
                <p>æ¨åˆ«é¸ŸæƒŠå¿ƒ</p>
            
        </div>
        
        
        <!-- æ•°æ®ç»Ÿè®¡ (æ–‡ç« æ•° / æ ‡ç­¾æ•°) -->
        <div class="site-state-wrap">
            <div class="site-state-item">
                <span class="site-state-item-name">POSTS</span>
                <span class="site-state-item-count">6</span>
            </div>
            <div class="site-state-item">
                <span class="site-state-item-name">LIKES</span>
                <span class="site-state-item-count">â‘¨â‘¨â‘¨</span>
            </div>
        </div>
        
        <!-- æœç´¢æ¡† -->
        <div class="sidebar-search">
            <div class="search-input-wrap">
                <i class="fa fa-search"></i>
                <input type="text" id="local-search-input" placeholder="Search...">
            </div>
        </div>

        <!-- RSS æŒ‰é’® -->

       <!-- ç¤¾äº¤å›¾æ ‡ -->
        
        <div class="sidebar-social">
            
                <a href="https://github.com/Tenkonata" target="_blank" rel="noopener" title="GitHub">
                    
                        <!-- å¦åˆ™æ˜¾ç¤º FontAwesome å›¾æ ‡ -->
                        <i class="fa fa-github"></i>
                    
                </a>
            
                <a href="mailto:xi-justice@outlook.com" target="_blank" rel="noopener" title="Email">
                    
                        <!-- å¦åˆ™æ˜¾ç¤º FontAwesome å›¾æ ‡ -->
                        <i class="fa fa-envelope"></i>
                    
                </a>
            
                <a href="https://space.bilibili.com/179767580" target="_blank" rel="noopener" title="Bilibili">
                    
                        <!-- å¦‚æœé…ç½®äº† image-svg -->
                        <span class="custom-icon"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" ><path d="M18.223 3.08584C18.7112 3.574 18.7112 4.36545 18.223 4.85361L17.08 5.99598L18.25 5.99638C20.3211 5.99638 22 7.67531 22 9.74638V17.2464C22 19.3174 20.3211 20.9964 18.25 20.9964H5.75C3.67893 20.9964 2 19.3174 2 17.2464V9.74638C2 7.67531 3.67893 5.99638 5.75 5.99638L6.91625 5.99598L5.77466 4.85456C5.28651 4.36641 5.28651 3.57495 5.77466 3.0868C6.26282 2.59864 7.05427 2.59864 7.54243 3.0868L10.1941 5.73845C10.2729 5.81729 10.339 5.90403 10.3924 5.99614L13.6046 5.99636C13.6581 5.90382 13.7244 5.81667 13.8036 5.73749L16.4553 3.08584C16.9434 2.59769 17.7349 2.59769 18.223 3.08584ZM18.25 8.50638H5.75C5.09102 8.50638 4.55115 9.0163 4.50343 9.66309L4.5 9.75638V17.2564C4.5 17.9154 5.00992 18.4552 5.65671 18.5029L5.75 18.5064H18.25C18.909 18.5064 19.4489 17.9965 19.4966 17.3497L19.5 17.2564V9.75638C19.5 9.06602 18.9404 8.50638 18.25 8.50638ZM8.25 11.0064C8.94036 11.0064 9.5 11.566 9.5 12.2564V13.5064C9.5 14.1967 8.94036 14.7564 8.25 14.7564C7.55964 14.7564 7 14.1967 7 13.5064V12.2564C7 11.566 7.55964 11.0064 8.25 11.0064ZM15.75 11.0064C16.4404 11.0064 17 11.566 17 12.2564V13.5064C17 14.1967 16.4404 14.7564 15.75 14.7564C15.0596 14.7564 14.5 14.1967 14.5 13.5064V12.2564C14.5 11.566 15.0596 11.0064 15.75 11.0064Z" /></svg></span>
                    
                </a>
            
        </div>
        
    </div>
</aside>
            
        </div>

    </div> 
    
    
<script src="/lib/jquery-3.7.1.min.js"></script>

    
<script src="/lib/jquery.pjax.js"></script>

    
<script src="/lib/highlight/highlight.min.js"></script>

    
    <script>
    // ä»£ç é«˜äº®å‡½æ•°
    function initHighlight() {
        document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightElement(block);
        });
        console.log("Pjax: ä»£ç é«˜äº®å·²é‡æ–°æ‰§è¡Œ");
    }

    // ç”Ÿæˆæ–‡ç« å¤§çº²
    function generateOutline() {
        const outlineContainer = document.getElementById('article-outline');
        if (!outlineContainer) return;
        const headings = document.querySelectorAll('#content h1, #content h2, #content h3, #content h4, #content h5, #content h6');
        if (headings.length === 0) {
            outlineContainer.innerHTML = '<div class="no-outline">æœ¬æ–‡æš‚æ— æ ‡é¢˜</div>';
            return;
        }
        
        let outlineHTML = '<ul class="outline-list" style="margin: 0; padding: 0;">';
        
        headings.forEach((heading, index) => {
            const level = parseInt(heading.tagName.substring(1));
            const text = heading.textContent;
            const id = heading.id || `heading-${index}`;
            
            if (!heading.id) { heading.id = id; }
        
            outlineHTML += `
                <li class="outline-item outline-level-${level}" style="margin: 0; padding: 0;">
                    <a href="#${id}" class="outline-link">${text}</a>
                </li>
            `;
        });
        outlineHTML += '</ul>';
        outlineContainer.innerHTML = outlineHTML;
        
        const outlineTab = document.getElementById('outline-tab');
        if (outlineTab) {
            outlineTab.addEventListener('click', function(e) {
                if (e.target.classList.contains('outline-link')) {
                    e.preventDefault();
                    const targetId = e.target.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        }
    }

    // æ›´æ–°ä¾§è¾¹æ æ´»åŠ¨çŠ¶æ€
    function updateSidebarActiveState() {
        const postItems = document.querySelectorAll('.post-item');
        postItems.forEach(item => item.classList.remove('active'));
        const currentPath = window.location.pathname;
        const normalizedPath = currentPath.replace(/\/$/, '');
        document.querySelectorAll('.post-link').forEach(link => {
            const href = link.getAttribute('href');
            const normalizedHref = href ? href.replace(/\/$/, '') : '';
            
            if (normalizedHref === normalizedPath) {
                link.closest('.post-item').classList.add('active');
                
                let parent = link.closest('.category-group');
                while (parent) {
                    parent.classList.remove('collapsed');
                    const icon = parent.querySelector('.category-title i');
                    if (icon && icon.classList.contains('fa-folder')) {
                        icon.classList.remove('fa-folder');
                        icon.classList.add('fa-folder-open');
                    }
                    parent = parent.parentElement.closest('.category-group');
                }
            }
        });
    }

    // ç»Ÿä¸€çš„åˆå§‹åŒ–å‡½æ•°
    function onPageReady() {
        initHighlight();
        if (document.querySelector('#aside')) {
            generateOutline();
            updateSidebarActiveState();
        }

        if (window.initMobileLayout) {
            window.initMobileLayout();
        }
        
        console.log("Pjax: é¡µé¢åˆå§‹åŒ–è„šæœ¬ (onPageReady) å·²æ‰§è¡Œ");
    }

    // ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½
    $(document).ready(function() {
        console.log("æ–‡æ¡£é¦–æ¬¡åŠ è½½ (document.ready)");
        
        onPageReady();

        var pjaxSelector = 'a[href^="/"]:not([target="_blank"]):not([href$=".xml"]):not([href$=".json"])';
        var pjaxContainer = '#pjax-container';
        console.log("Pjax: åˆå§‹åŒ–ï¼Œç›‘å¬ " + pjaxSelector + "ï¼Œå®¹å™¨: " + pjaxContainer);
        $(document).pjax(pjaxSelector, pjaxContainer, {
            fragment: pjaxContainer,
            timeout: 8000
        });
        
        // ã€å…³é”®é€»è¾‘ã€‘è¯·æ±‚å¼€å§‹ï¼šç»™å®¹å™¨æ·»åŠ  loading ç±»
        $(document).on('pjax:send', function() {
            $(pjaxContainer).addClass('pjax-loading');
        });

        // è¯·æ±‚æˆåŠŸï¼ˆæš‚ä¸åšå¤„ç†ï¼‰
        $(document).on('pjax:success', function(event, data, status, xhr, options) { /* ... */ });
        
        // ã€å…³é”®é€»è¾‘ã€‘è¯·æ±‚ç»“æŸï¼šç§»é™¤ loading ç±»ï¼Œè§¦å‘å†…å®¹æ·¡å…¥åŠ¨ç”»
        $(document).on('pjax:complete', function() {
            console.log("Pjax: complete (åŠ è½½å®Œæˆ)");
            $(pjaxContainer).removeClass('pjax-loading');

            var rootPath = ('/' || '/').replace(/\/$/, ''); 
            var currentPath = window.location.pathname.replace(/\/$/, '');
            var isHomePage = (currentPath === rootPath || currentPath === rootPath + '/index.html');
            if (isHomePage) {
                $('body').addClass('home-layout');
            } else {
                $('body').removeClass('home-layout');
            }

            onPageReady();
        });
        $(document).on('pjax:error', function(event, xhr, textStatus, errorThrown) { /* ... */ });
    });
    </script>

    
<script src="/js/AIR-v2.js"></script>

    
<script src="/js/mobile.js"></script>


</body>
</html>